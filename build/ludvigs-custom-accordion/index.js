(()=>{"use strict";var e,o={814(){const e=window.wp.blocks,o=(window.wp.i18n,window.wp.blockEditor),n=window.wp.components,i=window.ReactJSXRuntime,c=JSON.parse('{"UU":"create-block/ludvigs-custom-accordion"}');(0,e.registerBlockType)(c.UU,{edit:function({attributes:e,setAttributes:c}){const{accordions:t,allowMultipleOpen:r}=e,a=(e,o,n)=>{const i=[...t];i[e][o]=n,c({accordions:i})};return(0,i.jsxs)(i.Fragment,{children:[(0,i.jsx)(o.InspectorControls,{children:(0,i.jsx)(n.PanelBody,{title:"Accordion Settings",children:(0,i.jsxs)("label",{children:[(0,i.jsx)("input",{type:"checkbox",checked:r,onChange:e=>c({allowMultipleOpen:e.target.checked})}),"Allow multiple accordions open at once"]})})}),(0,i.jsxs)("div",{...(0,o.useBlockProps)(),children:[(0,i.jsx)(n.Button,{onClick:()=>{c({accordions:[...t,{title:"",content:"",image:"",isOpen:!1}]})},title:"Add accordion",children:"Add Accordion"}),t.map((e,r)=>(0,i.jsxs)("div",{children:[(0,i.jsx)("label",{htmlFor:`accordion-title-${r}`,children:"Accordion Title"}),(0,i.jsx)(o.RichText,{id:`accordion-title-${r}`,tagName:"h3",value:e.title,onChange:e=>a(r,"title",e),placeholder:"Add Accordion Title..."}),(0,i.jsx)("label",{htmlFor:`accordion-content-${r}`,children:"Accordion Content"}),(0,i.jsx)(o.RichText,{id:`accordion-content-${r}`,tagName:"div",value:e.content,onChange:e=>a(r,"content",e),placeholder:"Add Accordion Content..."},`accordion-content-${r}`),(0,i.jsx)("label",{htmlFor:`accordion-image-${r}`,children:"Accordion Image"}),e.image&&(0,i.jsx)("img",{src:e.image,alt:"Accordion Image"}),(0,i.jsx)(o.MediaUpload,{onSelect:e=>a(r,"image",e.url),render:({open:o})=>(0,i.jsx)(n.Button,{onClick:o,variant:"secondary",size:"small",children:e.image?"Change Image":"Upload Image"})}),(0,i.jsx)(n.Button,{title:"Remove",isDestructive:!0,variant:"secondary",size:"small",onClick:()=>{const e=t.filter((e,o)=>o!==r);c({accordions:e})},children:"Remove"})]},r))]})]})},save:function({attributes:e}){const{accordions:n,allowMultipleOpen:c}=e;return(0,i.jsx)("div",{...o.useBlockProps.save(),"data-allow-multiple-open":c,children:(0,i.jsx)("div",{className:"accordion",children:n.map((e,n)=>(0,i.jsxs)("div",{className:"accordion-item "+(e.isOpen?"open":""),children:[(0,i.jsxs)("div",{className:"accordion-header",children:[(0,i.jsx)("h3",{children:e.title}),(0,i.jsx)("span",{className:"accordion-toggle-indicator","aria-hidden":"true"})]}),(0,i.jsxs)("div",{className:"accordion-content",children:[(0,i.jsx)(o.RichText.Content,{tagName:"div",value:e.content}),e.image&&(0,i.jsx)("img",{src:e.image,alt:e.title})]})]},n))})})}})}},n={};function i(e){var c=n[e];if(void 0!==c)return c.exports;var t=n[e]={exports:{}};return o[e](t,t.exports,i),t.exports}i.m=o,e=[],i.O=(o,n,c,t)=>{if(!n){var r=1/0;for(d=0;d<e.length;d++){for(var[n,c,t]=e[d],a=!0,l=0;l<n.length;l++)(!1&t||r>=t)&&Object.keys(i.O).every(e=>i.O[e](n[l]))?n.splice(l--,1):(a=!1,t<r&&(r=t));if(a){e.splice(d--,1);var s=c();void 0!==s&&(o=s)}}return o}t=t||0;for(var d=e.length;d>0&&e[d-1][2]>t;d--)e[d]=e[d-1];e[d]=[n,c,t]},i.o=(e,o)=>Object.prototype.hasOwnProperty.call(e,o),(()=>{var e={77:0,473:0};i.O.j=o=>0===e[o];var o=(o,n)=>{var c,t,[r,a,l]=n,s=0;if(r.some(o=>0!==e[o])){for(c in a)i.o(a,c)&&(i.m[c]=a[c]);if(l)var d=l(i)}for(o&&o(n);s<r.length;s++)t=r[s],i.o(e,t)&&e[t]&&e[t][0](),e[t]=0;return i.O(d)},n=globalThis.webpackChunkludvigs_custom_accordion=globalThis.webpackChunkludvigs_custom_accordion||[];n.forEach(o.bind(null,0)),n.push=o.bind(null,n.push.bind(n))})();var c=i.O(void 0,[473],()=>i(814));c=i.O(c)})();